{
    "name": "inotify-lookup",
    "type": "rust",
    "version": "0.1.0",
    
    "build": {
        "dependency": {
            "cargo": [],
            "pip": ["maturin"]
        },
        "script": [
            "cargo build --release",
            "mkdir -p build; cd build; cmake ..; make",
            "cd inofity-lookup-py; maturin build --release --manylinux off"
        ],
        "output": [
            "./target/release/libinotify_lookup.so@libinotify_lookup.so",
            "./release/inotify-hook/inotify_hook.ko@kmod/inotify_hook.ko"
        ]
    },

    "runtime": {
        "dependency": {},
        "status":
            "lsmod | grep inotify_hook",
        "enable": [
            "pkexec insmod kmod/inotify_hook.ko"
        ],
        "disable": [
            "pkexec rmmod kmod/inotify_hook"
        ]
    },

    "metadata": {
        "register": {
            "restype": "Number",
            "args": [{"name":"String"}]
        },

        "unregister": {
            "restype": "Number",
            "args": [{"name":"String"}]
        },

        "dump": {
            "restype": "Array<String>",
            "args": [{"name":"String"}]
        }
    }
}
